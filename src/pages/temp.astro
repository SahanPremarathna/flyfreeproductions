---
import Layout from '../layouts/as.astro';
---

<Layout>
  <div class="explore-container" id="exploreContainer"></div>

  


  <script type="module">
    import { exploreSections } from '/scripts/explore/exploreList.js';

    





    window.addEventListener("DOMContentLoaded", () => {

// const exploreSections = [
//   {
//     title: "Beauty of Sri Lanka",
//     items: [
//       {
//         title: "Yala National Park",
//         image: "/images/bg2-tall.webp",
//         link: "/explore/flamingos-2025"
//       },
//       {
//         title: "Sigiriya Rock",
//         image: "/images/bg2-tall.webp",
//         link: "/explore/flamingos-2025"
//       },
//     ]
//   },
//   {
//     title: "Wildlife and Wilderness",
//     items: [
//       {
//         title: "Wilpattu Safari",
//         image: "/images/explore/sl-yala-tall.webp",
//         link: "/explore/flamingos-2025"
//       },
//       {
//         title: "Minneriya Elephants",
//         image: "/images/bg2-tall.webp",
//         link: "/explore/flamingos-2025"
//       },
//     ]
//   },
//   {
//     title: "Behind the Lens",
//     items: [
//       {
//         title: "Making of Elegance in White",
//         image: "/images/bg2-tall.webp",
//         link: "/explore/flamingos-2025"
//       },
//       {
//         title: "Drone Diaries",
//         image: "/images/bg2-tall.webp",
//         link: "/explore/flamingos-2025"
//       },
//     ]
//   }
// ];


//   const container = document.getElementById("exploreContainer");

//   exploreSections.forEach((section, index) => {
//     const sectionDiv = document.createElement("div");
//     sectionDiv.classList.add("category-section"); 

//     const title = document.createElement("h2");
//     title.textContent = section.title;
//     sectionDiv.appendChild(title);

//     const scrollWrapper = document.createElement("div");
//     scrollWrapper.className = "scroll-wrapper";
    

//     const leftBtn = document.createElement("button");
//     leftBtn.textContent = "◀";
//     leftBtn.className = "scroll-btn left-btn";

//     const rightBtn = document.createElement("button");
//     rightBtn.textContent = "▶";
//     rightBtn.className = "scroll-btn right-btn";

//     const scrollArea = document.createElement("div");
//     scrollArea.className = "scroll-area";
//     scrollArea.id = `scrollArea-${index}`;

//     section.items.forEach(item => {
//       console.log("went here 1")
//       const card = document.createElement("a");
//       card.className = "explore-card";
//       card.href = item.link;
//       card.style.textDecoration = "none";
//       card.style.backgroundColor = "green";
//       // card.style.backgroundImage = `url("${item.image}")`;
//       card.innerHTML = `<div class="card-title">${item.title}</div>`;
//       scrollArea.appendChild(card);
//       console.log("went here 2")
//     });

//     leftBtn.onclick = () => scrollArea.scrollBy({ left: -300, behavior: 'smooth' });
//     rightBtn.onclick = () => scrollArea.scrollBy({ left: 300, behavior: 'smooth' });

//     scrollWrapper.appendChild(leftBtn);
//     scrollWrapper.appendChild(scrollArea);
//     scrollWrapper.appendChild(rightBtn);

//     sectionDiv.appendChild(scrollWrapper);
//     container.appendChild(sectionDiv);
//   });
// });
const container = document.getElementById("exploreContainer");

exploreSections.forEach((section, index) => {
  const sectionDiv = document.createElement("div");
  sectionDiv.classList.add("category-section");
  sectionDiv.style.marginBottom = "40px";
  sectionDiv.style.backgroundColor = "#000000";
  sectionDiv.style.background = "transparent";

  const title = document.createElement("h2");
  title.textContent = section.title;
  title.style.fontSize = "24px";
  title.style.marginBottom = "10px";
  title.style.color = "white";
  sectionDiv.appendChild(title);
  sectionDiv.style.background = "transparent";

  const scrollWrapper = document.createElement("div");
  scrollWrapper.className = "scroll-wrapper";
  scrollWrapper.style.backgroundColor = "aqua";
  scrollWrapper.style.position = "relative";
  scrollWrapper.style.display = "flex";
  scrollWrapper.style.alignItems = "center";
  scrollWrapper.style.background = "transparent";

  const leftBtn = document.createElement("button");
  leftBtn.textContent = "◀";
  leftBtn.className = "scroll-btn left-btn";
  leftBtn.style.background = "transparent";
  leftBtn.style.color = "black";
  leftBtn.style.border = "none";
  leftBtn.style.fontSize = "20px"; // Large size
  leftBtn.style.padding = "10px";
  leftBtn.style.cursor = "pointer";
  leftBtn.style.marginRight = "10px";
  leftBtn.style.zIndex = "2";

  const rightBtn = document.createElement("button");
  rightBtn.textContent = "▶";
  rightBtn.className = "scroll-btn right-btn";
  rightBtn.style.background = "transparent";
  rightBtn.style.color = "black";
  rightBtn.style.border = "none";
  rightBtn.style.fontSize = "20px";
  rightBtn.style.padding = "10px";
  rightBtn.style.cursor = "pointer";
  rightBtn.style.marginLeft = "10px";
  rightBtn.style.zIndex = "2";

  const scrollArea = document.createElement("div");
  scrollArea.className = "scroll-area";
  scrollArea.id = `scrollArea-${index}`;
  scrollArea.style.display = "flex";
  scrollArea.style.overflowX = "auto";
  scrollArea.style.scrollBehavior = "smooth";
  scrollArea.style.gap = "20px";
  scrollArea.style.padding = "10px 0";
  scrollArea.style.scrollbarWidth = "none"; // Firefox
scrollArea.style.msOverflowStyle = "none";


scrollArea.setAttribute("style", scrollArea.getAttribute("style") + `
  &::-webkit-scrollbar { display: none; }
`);

  section.items.forEach(item => {
  const card = document.createElement("a");
  card.className = "explore-card";
  card.href = item.link;
  card.style.display = "block";
  card.style.minWidth = "30vh";
  card.style.height = "30vh";
  card.style.backgroundSize = "cover";
  card.style.backgroundPosition = "center";
  card.style.borderRadius = "12px";
  card.style.position = "relative";
  card.style.flexShrink = "0";
  card.style.transition = "transform 0.3s ease";
  card.style.textDecoration = "none";
  card.style.backgroundImage = `url("${item.image}")`;

  const cardTitle = document.createElement("div");
  cardTitle.className = "card-title";
  cardTitle.textContent = item.title;
  cardTitle.style.position = "absolute";
  cardTitle.style.bottom = "0";
  cardTitle.style.width = "100%";
  cardTitle.style.background = "rgba(0, 0, 0, 0.5)";
  cardTitle.style.textAlign = "center";
  cardTitle.style.padding = "8px";
  cardTitle.style.fontSize = "16px";
  cardTitle.style.color = "white";
  cardTitle.style.borderRadius = "0 0 12px 12px";
  cardTitle.style.transition = "transform 0.3s ease";

  // ✅ Add hover event listeners here
  card.addEventListener("mouseenter", () => {
    card.style.transform = "scale(1.02)";
  });

  card.addEventListener("mouseleave", () => {
    card.style.transform = "scale(1)";
  });

  card.appendChild(cardTitle);
  scrollArea.appendChild(card);
});

  leftBtn.onclick = () => scrollArea.scrollBy({ left: -300, behavior: 'smooth' });
  rightBtn.onclick = () => scrollArea.scrollBy({ left: 300, behavior: 'smooth' });

  scrollWrapper.appendChild(leftBtn);
  scrollWrapper.appendChild(scrollArea);
  scrollWrapper.appendChild(rightBtn);

  sectionDiv.appendChild(scrollWrapper);
  container.appendChild(sectionDiv);
});




    })
  
  </script>

  


  




</Layout>


<style>
  body{
    background-color: white;
  }
</style>